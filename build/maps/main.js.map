{"version":3,"sources":["main.js"],"names":["Img","date","src","this","day","collect","prototype","instances","indexOf","push","render","$","append","initPage","calcNumDays","numOfDays","datesCollection","reduce","a","b","setImgsDay","forEach","el","renderImgs","dir","ajax","url","success","data","find","attr","i","val","match","complete","lazyLoad","loadImages","nav","renderBtns","isElementInViewport","rect","getBoundingClientRect","top","left","bottom","window","height","right","width","setScrollInterval","fn","setInterval","scrollHandler","didScroll","$images","each","index","$window","on","events","emit","btnWidth","length","alert","$filterNav","btnLabels","$resetNav","$nav","css","stickyNav","scrollTop","$distance","removeClass","addClass","$filterMain","navAnimations","$this","clickedClass","split","hasClass","resetFilterColor","filterImgs","resetFilter","applyFilterColor","applyFilter","join","offset","$ul","show","hide","setTimeout","viewImg","next","$nextPic","$modalNav","dayNum","reset","$body","html","prev","$prevPic","viewActive","$modal","$imgContainer","e","target","currentTarget","className"],"mappings":"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","file":"../js/main.js","sourcesContent":["//Constructor for images in img/gallery folder\r\nvar Img = function (date, src) {\r\n    this.date = date;\r\n    this.src = src;\r\n    this.day;\r\n\r\n    this.collect();\r\n}\r\n//on construction push instance into array\r\nImg.prototype.collect = function () {\r\n    if (Img.instances.indexOf(this) === -1) {\r\n        Img.instances.push(this);\r\n    }\r\n};\r\n//render method creates css classes .image-wrapper, .view and .filter-indicator with class .day to set corresponding day color\r\nImg.prototype.render = function () {\r\n\r\n    $('#image-container').append('<div class=\"image-wrapper\"><div class=\"view\"><img src=\"img/img-loading.gif\" data-src=' + '/gallery/' + this.src + '></div><div class=\"filter-indicator day' + this.day + '\"></div></div>');\r\n};\r\n\r\nImg.instances = [];\r\n\r\n\r\nvar initPage = (function () {\r\n    var dir = \"/gallery/\";\r\n    var datesCollection = [];\r\n    var numOfDays = [];\r\n    //local ajax call\r\n    $.ajax({\r\n        url: dir,\r\n        success: function (data) {\r\n\r\n            $(data).find(\"a\").attr(\"href\", function (i, val) {\r\n\r\n                if (val.match(/\\.(jpe?g|png|gif)$/)) {\r\n                    var date = val.match(/\\d+(?=_)/g);//match all digits before \"_\" This is the date when dealing with android picture naming convention \r\n\r\n                    datesCollection.push(date[0]);//push all dates of all images into array\r\n\r\n                    var image = new Img(date[0], val);//instantiate with date and src (val)\r\n                }\r\n            });\r\n        },\r\n\r\n        complete: function () {\r\n            \r\n            calcNumDays();\r\n            setImgsDay();\r\n            renderImgs();\r\n            lazyLoad.loadImages();//load all images currently in viewport\r\n            nav.renderBtns(numOfDays);//populate navigation\r\n        }\r\n    });\r\n    \r\n    //input: datesCollection result: remove duplicate dates, numOfDays.length is how many days trip lasted\r\n    function calcNumDays() {\r\n        numOfDays = datesCollection.reduce(function (a, b) {\r\n            if (a.indexOf(b) < 0) a.push(b);\r\n            return a;\r\n        }, []);\r\n    }\r\n    \r\n    //check the date prop of Img.instances agaisnt the set of dates in numOfDays. Match index + 1 becomes correct day picture was taken\r\n    function setImgsDay(/*numOfDays*/) {\r\n        Img.instances.forEach(function (el) {\r\n            el.day = numOfDays.indexOf(el.date) + 1;\r\n        });\r\n    }\r\n    \r\n    //inject HTML for all images into #image-container \r\n    function renderImgs() {\r\n        Img.instances.forEach(function (el) {\r\n            el.render();\r\n        });\r\n    }\r\n})();\r\n\r\nvar lazyLoad = (function () {\r\n\r\n    var didScroll = false;\r\n\r\n    //cache DOM\r\n    var $window = $(window);\r\n\r\n    //bind events\r\n    $window.on('resize scroll', function () {\r\n        didScroll = true;\r\n        events.emit('scrolled');//avoiding multiple scroll event listeners on window\r\n    });\r\n\r\n    setScrollInterval(scrollHandler);//used for throttling window scroll events. \r\n    \r\n    //check if image element is in viewport\r\n    function isElementInViewport(el) {\r\n        var rect = el.getBoundingClientRect();\r\n\r\n        return (\r\n            rect.top >= -300 &&\r\n            rect.left >= -300 &&\r\n            rect.bottom / 1.4 <= $(window).height() &&\r\n            rect.right <= $(window).width() + 300\r\n        );\r\n    }\r\n    \r\n    function setScrollInterval(fn) {\r\n        setInterval(fn, 200);\r\n    }\r\n    //check every 300ms if a scroll event has fired. If true loadImages()\r\n    function scrollHandler() {\r\n        if (didScroll) {\r\n            didScroll = false;\r\n            loadImages();\r\n        }\r\n    }\r\n    //if image in viewport 'load' it by switching data-src and real src\r\n    function loadImages() {\r\n        var $images = $('#image-container img');\r\n\r\n        $images.each(function (index) {\r\n\r\n            if (isElementInViewport(this)) {\r\n                $(this).attr(\"src\", $(this).attr(\"data-src\"));\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        loadImages: loadImages\r\n    }\r\n})();\r\n\r\nvar nav = (function () {\r\n\r\n    //cache DOM\r\n    var $window = $(window);\r\n    var $distance = $('#filter-nav').offset().top;//distance scrolled from top of document\r\n    var $nav = $('nav');\r\n    var $filterMain = $('.filter-indicator-main');\r\n    var $ul = $nav.find('ul');\r\n    var $filterNav = $('#filter-nav');\r\n    var $resetNav = $('#reset-nav');\r\n    \r\n    var btnLabels = ['Day One', 'Day Two', 'Day Three', 'Day Four', 'Day Five', 'Day Six', 'Day Seven'];//used for nav btn labels\r\n\r\n    //bind events\r\n    events.on('scrolled', stickyNav);//window scroll event bound in lazyload\r\n\r\n    $ul.on('click', 'li', function () {\r\n        navAnimations($(this));\r\n    });\r\n\r\n    function renderBtns(numOfDays) {\r\n        var btnWidth = '' + (100 / (numOfDays.length / 0.94)) + '%';//width of btns is percent based on number of btns needed\r\n        \r\n        //inform user the dates of their picures span too many days\r\n        if (numOfDays.length > 7) {\r\n            alert('Date range of images present in img/gallery folder must not span more than 7 days');\r\n        } else {\r\n            //render btns on page\r\n            for (var i = 0; i < numOfDays.length; i++) {\r\n                $filterNav.find('ul').append('<li class=\"day' + (i + 1) + '\">' + btnLabels[i] + '</li>');\r\n                $resetNav.find('ul').append('<li class=\"day' + (i + 1) + '\">Reset</li>');\r\n            }\r\n        }\r\n        //set btn width\r\n        $nav.find('li').css('width', btnWidth);\r\n    }\r\n    \r\n    function stickyNav() {\r\n        if ($window.scrollTop() >= $distance) {\r\n            $nav.removeClass('layout-fluid-full-width').addClass('nav-fixed');\r\n            $filterMain.removeClass('layout-fluid-full-width').addClass('filter-indicator-main-fixed');\r\n        } else if ($window.scrollTop() <= $distance) {\r\n            $nav.removeClass('nav-fixed').addClass('layout-fluid-full-width');\r\n            $filterMain.removeClass('filter-indicator-main-fixed').addClass('layout-fluid-full-width');\r\n        }\r\n    }\r\n\r\n    function navAnimations($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];//gets the first class of element li (.day<number> in this case). Used in the module to set day filter color. \r\n\r\n        $resetNav.find('li').removeClass('active');\r\n        $filterNav.find('li').removeClass('slide-up');\r\n\r\n        if ($this.hasClass('slide-down')) {\r\n            $this.removeClass('slide-down').addClass('slide-up');\r\n            resetFilterColor();\r\n            filterImgs.resetFilter();//method for restoring all previously filtered out images into view again\r\n        } else {\r\n            $filterNav.find('.slide-down').removeClass('slide-down').addClass('slide-up');\r\n            $this.addClass('slide-down');\r\n            $resetNav.find('.' + clickedClass).addClass('active');\r\n            resetFilterColor();\r\n            applyFilterColor($this);\r\n            filterImgs.applyFilter($this);//method for filtering out images from view. Pass $this for info on what .day<number> to filter by\r\n        }\r\n\r\n    }\r\n    //remove all .day<number> classes from main filter bar\r\n    function resetFilterColor() {\r\n        $filterMain.removeClass(function (index, css) {\r\n            return (css.match(/(day)\\d+/) || []).join(' ');\r\n        });\r\n    }\r\n    //apply .day<number> classes to main filter bar\r\n    function applyFilterColor($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];\r\n\r\n        $filterMain.addClass(clickedClass);\r\n    }\r\n\r\n    return {\r\n        btnLabels: btnLabels,\r\n        renderBtns: renderBtns\r\n    }\r\n})();\r\n\r\nvar filterImgs = (function () {\r\n\r\n    //cache DOM \r\n    var $filterMain = $('.filter-indicator-main');\r\n\r\n    function applyFilter($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];//gets the first class of element li (.day<number> in this case).\r\n        //use .day<number> class of nav li to filter out images from view\r\n        $('.image-wrapper').each(function (index) {\r\n            if (!$(this).find('.filter-indicator').hasClass(clickedClass)) {\r\n                $(this).hide();\r\n            } else if ($(this).find('.filter-indicator').hasClass(clickedClass)) {\r\n                $(this).show();\r\n            }\r\n            $(this).find('img').attr(\"src\", 'img/img-loading.gif');//set images back to loading gif to prevent browser having to render lots of images a once and lagging out\r\n        })\r\n        setTimeout(lazyLoad.loadImages, 50);//load images in viewport \r\n    }\r\n    //bring all previously filtered images back into view\r\n    function resetFilter() {\r\n        $('.image-wrapper').each(function (index) {\r\n            $(this).show();\r\n            $(this).find('img').attr(\"src\", 'img/img-loading.gif');\r\n        })\r\n        setTimeout(lazyLoad.loadImages, 50);\r\n    }\r\n\r\n    return {\r\n        resetFilter: resetFilter,\r\n        applyFilter: applyFilter\r\n    }\r\n})();\r\n\r\nvar viewImg = (function () {\r\n\r\n    //cache DOM\r\n    var $imgContainer = $('#image-container');\r\n    var $modal = $('#modal');\r\n    var $body = $('body');\r\n    var $modalNav = $('#modal-nav');\r\n    var $imgActive = $('.image-wrapper-active');\r\n\r\n    //bind events\r\n    $imgContainer.on('click', '.image-wrapper', function (e) {\r\n        reset();\r\n        viewActive($(this));\r\n    });\r\n    \r\n    $modal.on('click', function (e) {\r\n        //clicks on modal itself or 'X' close modal and minimize enlarged image\r\n        if (e.target == e.currentTarget || e.target.className == 'close') {\r\n            reset();\r\n            $('.filter-indicator').css('visibility', 'visible');//all toggling of filter indicator visibility is to get it out of the way when enlarging an image\r\n            $modal.hide();\r\n        } else if (e.target.className == 'next') {\r\n            next();\r\n        } else if (e.target.className == 'prev') {\r\n            prev();\r\n        }\r\n    });\r\n\r\n    function next() {\r\n        var $nextPic = $('.image-wrapper-active').next();//store the next image that needs to be displayed\r\n        //disallow navigating to currently filtered out images or past the beginning/end of gallery\r\n        if ($nextPic.css('display') === 'none' || typeof $nextPic.css('display') === 'undefined') {\r\n            return;\r\n        }\r\n        \r\n        $('.filter-indicator').css('visibility', 'visible');\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        var dayNum = $nextPic.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];//get the number of .day<number> class of next image element to use with nav.btnLabels arr\r\n        var clickedClass = $nextPic.find('.filter-indicator').attr('class').split(' ')[1];//get the .day<number> class of next image element\r\n\r\n        reset();\r\n        $body.addClass('no-scroll');//disable scrolling when modal active\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n        $nextPic.addClass('image-wrapper-active');\r\n        $nextPic.find('.view').addClass('view-active');\r\n        $nextPic.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        lazyLoad.loadImages();//load that are being navigated through\r\n    }\r\n\r\n    function prev() {\r\n        var $prevPic = $('.image-wrapper-active').prev();\r\n\r\n        if ($prevPic.css('display') === 'none' || typeof $prevPic.css('display') === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        $('.filter-indicator').css('visibility', 'visible');\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        var dayNum = $prevPic.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];\r\n        var clickedClass = $prevPic.find('.filter-indicator').attr('class').split(' ')[1];\r\n\r\n        reset();\r\n        $body.addClass('no-scroll');\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n        $prevPic.addClass('image-wrapper-active');\r\n        $prevPic.find('.view').addClass('view-active');\r\n        $prevPic.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        lazyLoad.loadImages();\r\n    }\r\n    \r\n    function reset() {\r\n        $('.image-wrapper').removeClass('image-wrapper-active');\r\n        $('.view').removeClass('view-active');\r\n        $body.removeClass('no-scroll');\r\n    }\r\n    \r\n    function viewActive($this) {\r\n        var dayNum = $this.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];//get the number of .day<number> class of image element to use with nav.btnLabels\r\n        var clickedClass = $this.find('.filter-indicator').attr('class').split(' ')[1];//get the .day<number> class of image element\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        $body.addClass('no-scroll');\r\n        $modal.show();\r\n        $this.addClass('image-wrapper-active');\r\n        $this.find('.view').addClass('view-active');\r\n        $this.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n    }\r\n})();"]}