{"version":3,"sources":["main.js"],"names":["Img","date","src","this","day","collect","instances","prototype","indexOf","push","render","$","append","initPage","dir","datesCollection","ajax","url","success","data","find","attr","i","val","match","complete","sortedDates","sort","a","b","forEach","el","lazyLoad","loadImages","nav","renderBtns","isElementInViewport","rect","getBoundingClientRect","top","left","bottom","window","height","right","width","setScrollInterval","fn","setInterval","scrollHandler","didScroll","$images","each","index","$window","on","btnWidth","length","alert","$filterNav","btnLabels","$resetNav","$nav","css","stickyNav","scrollTop","$distance","removeClass","addClass","$filterMain","navAnimations","$this","clickedClass","split","hasClass","resetFilterColor","setTimeout","filterImgs","resetFilter","applyFilterColor","applyFilter","join","offset","$ul","show","hide","viewImg","next","$nextPic","$modalNav","dayNum","reset","$body","html","prev","$prevPic","viewActive","$modal","$imgContainer","e","target","currentTarget","className"],"mappings":"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","file":"../js/main.js","sourcesContent":["//Constructor for images in img/gallery folder\r\nvar Img = function (date, src) {\r\n    this.date = date;\r\n    this.src = src;\r\n    this.day;\r\n\r\n    this.collect();\r\n}\r\n\r\nImg.instances = [];\r\n//on construction push instance into array\r\nImg.prototype.collect = function () {\r\n    if (Img.instances.indexOf(this) === -1) {\r\n        Img.instances.push(this);\r\n    }\r\n};\r\n//render method creates css classes .image-wrapper, .view and .filter-indicator with class .day to set corresponding day color\r\nImg.prototype.render = function () {\r\n\r\n    $('#image-container').append('<div class=\"image-wrapper\"><div class=\"view\"><img src=\"img/img-loading.gif\" data-src=' + 'gallery/' + this.src + '></div><div class=\"filter-indicator day' + this.day + '\"></div></div>');\r\n};\r\n\r\nvar initPage = (function () {\r\n    var dir = \"/gallery/\";\r\n    var datesCollection = [];\r\n    //local ajax call\r\n    $.ajax({\r\n        url: dir,\r\n        success: function (data) {\r\n\r\n            $(data).find(\"a\").attr(\"href\", function (i, val) {\r\n\r\n                if (val.match(/\\.(jpe?g|png|gif)$/)) {\r\n                    var date = val.match(/\\d+(?=_)/g);//match all digits before \"_\" This is the date when dealing with android picture naming convention \r\n\r\n                    if (datesCollection.indexOf(date[0]) === -1) {\r\n                        datesCollection.push(date[0]);//collect all unique dates\r\n                    }\r\n                    \r\n                    var image = new Img(date[0], val);\r\n                }\r\n            });\r\n        },\r\n\r\n        complete: function () {\r\n            var sortedDates = datesCollection.sort(function(a, b){\r\n                if (a < b) { return -1 }\r\n                if (a > b) { return 1 }\r\n              \telse { return 0 };\r\n            });\r\n\r\n            Img.instances.forEach(function (el) {\r\n                //check the date prop of Img.instances agaisnt the set of dates in numOfDays. Match index + 1 becomes correct day picture was taken\r\n                el.day = sortedDates.indexOf(el.date) + 1;\r\n\r\n                el.render();\r\n            });\r\n            //adding non visible elements to prevent flexbox rendering the last row of images with spaces between them\r\n            for (var i = 0; i < 4; i++) {  \r\n                $('#image-container').append('<div class=\"image-placeholder\"></div>');\r\n            }\r\n\r\n            lazyLoad.loadImages();\r\n            nav.renderBtns(sortedDates);\r\n        }\r\n    });  \r\n})();\r\n\r\nvar lazyLoad = (function () {\r\n\r\n    var didScroll = false;\r\n\r\n    //cache DOM\r\n    var $window = $(window);\r\n\r\n    //bind events\r\n    $window.on('resize scroll', function () {\r\n        didScroll = true;\r\n    });\r\n\r\n    setScrollInterval(scrollHandler);//used for throttling window scroll events. \r\n    \r\n    //check if image element is in viewport\r\n    function isElementInViewport(el) {\r\n        var rect = el.getBoundingClientRect();\r\n\r\n        return (\r\n            rect.top >= -300 &&\r\n            rect.left >= -300 &&\r\n            rect.bottom / 1.4 <= $(window).height() &&\r\n            rect.right <= $(window).width() + 300\r\n        );\r\n    }\r\n    \r\n    function setScrollInterval(fn) {\r\n        setInterval(fn, 500);\r\n    }\r\n    //check every 500ms if a scroll event has fired. If true loadImages()\r\n    function scrollHandler() {\r\n        if (didScroll) {\r\n            didScroll = false;\r\n            loadImages();\r\n        }\r\n    }\r\n    //if image in viewport 'load' it by switching data-src and real src\r\n    function loadImages() {\r\n        var $images = $('#image-container img:not(:hidden)');\r\n\r\n        $images.each(function (index) {\r\n            if (isElementInViewport(this)) {\r\n\r\n                $(this).attr(\"src\", $(this).attr(\"data-src\"));\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        loadImages: loadImages\r\n    }\r\n})();\r\n\r\nvar nav = (function () {\r\n\r\n    //cache DOM\r\n    var $window = $(window);\r\n    var $distance = $('#filter-nav').offset().top;//distance scrolled from top of document\r\n    var $nav = $('nav');\r\n    var $filterMain = $('.filter-indicator-main');\r\n    var $ul = $nav.find('ul');\r\n    var $filterNav = $('#filter-nav');\r\n    var $resetNav = $('#reset-nav');\r\n    \r\n    var btnLabels = ['Day One', 'Day Two', 'Day Three', 'Day Four', 'Day Five', 'Day Six', 'Day Seven'];//used for nav btn labels\r\n\r\n    //bind events\r\n    $window.on('resize scroll', function() {\r\n        stickyNav();\r\n    });\r\n\r\n    $ul.on('click', 'li', function() {\r\n        navAnimations($(this));\r\n    });\r\n\r\n    function renderBtns(datesCollection) {\r\n        var btnWidth = '' + (100 / (datesCollection.length / 0.94)) + '%';//width of btns is percent based on number of btns needed\r\n        \r\n        //inform user the dates of their picures span too many days\r\n        if (datesCollection.length > 7) {\r\n            alert('Date range of images present in img/gallery folder must not span more than 7 days');\r\n        } else {\r\n            //render btns on page\r\n            for (var i = 0; i < datesCollection.length; i++) {\r\n                $filterNav.find('ul').append('<li class=\"day' + (i + 1) + '\">' + btnLabels[i] + '</li>');\r\n                $resetNav.find('ul').append('<li class=\"day' + (i + 1) + '\">Reset</li>');\r\n            }\r\n        }\r\n        //set btn width\r\n        $nav.find('li').css('width', btnWidth);\r\n    }\r\n    \r\n    function stickyNav() {\r\n        if ($window.scrollTop() >= $distance) {\r\n            $nav.removeClass('layout-fluid-full-width').addClass('nav-fixed');\r\n            $filterMain.removeClass('layout-fluid-full-width').addClass('filter-indicator-main-fixed');\r\n        } else if ($window.scrollTop() <= $distance) {\r\n            $nav.removeClass('nav-fixed').addClass('layout-fluid-full-width');\r\n            $filterMain.removeClass('filter-indicator-main-fixed').addClass('layout-fluid-full-width');\r\n        }\r\n    }\r\n\r\n    function navAnimations($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];//gets the first class of element li (.day<number> in this case). Used in the module to set day filter color. \r\n\r\n        $resetNav.find('li').removeClass('active');\r\n        $filterNav.find('li').removeClass('slide-up');\r\n\r\n        if ($this.hasClass('slide-down')) {\r\n            $this.removeClass('slide-down').addClass('slide-up');\r\n            resetFilterColor();\r\n            setTimeout(filterImgs.resetFilter, 350);//method for restoring all previously filtered out images into view again\r\n        } else {\r\n            $filterNav.find('.slide-down').removeClass('slide-down').addClass('slide-up');\r\n            $this.addClass('slide-down');\r\n            $resetNav.find('.' + clickedClass).addClass('active');\r\n            resetFilterColor();\r\n            applyFilterColor($this);\r\n            setTimeout(filterImgs.applyFilter($this), 350);//method for filtering out images from view. Pass $this for info on what .day<number> to filter by\r\n        }\r\n\r\n    }\r\n    //remove all .day<number> classes from main filter bar\r\n    function resetFilterColor() {\r\n        $filterMain.removeClass(function (index, css) {\r\n            return (css.match(/(day)\\d+/) || []).join(' ');\r\n        });\r\n    }\r\n    //apply .day<number> classes to main filter bar\r\n    function applyFilterColor($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];\r\n\r\n        $filterMain.addClass(clickedClass);\r\n    }\r\n\r\n    return {\r\n        btnLabels: btnLabels,\r\n        renderBtns: renderBtns\r\n    }\r\n})();\r\n\r\nvar filterImgs = (function () {\r\n\r\n    //cache DOM \r\n    var $filterMain = $('.filter-indicator-main');\r\n\r\n    function applyFilter($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];//gets the first class of element li (.day<number> in this case).\r\n        //use .day<number> class of nav li to filter out images from view\r\n        $('.image-wrapper').each(function (index) {\r\n            if (!$(this).find('.filter-indicator').hasClass(clickedClass)) {\r\n                $(this).hide();\r\n            } else if ($(this).find('.filter-indicator').hasClass(clickedClass)) {\r\n                $(this).show();\r\n            }\r\n            $(this).find('img').attr(\"src\", 'img/img-loading.gif');//set images back to loading gif to prevent browser having to render lots of images at once\r\n        })\r\n        setTimeout(lazyLoad.loadImages, 50);\r\n    }\r\n    \r\n    function resetFilter() {\r\n        $('.image-wrapper').each(function (index) {\r\n            $(this).show();\r\n            $(this).find('img').attr(\"src\", 'img/img-loading.gif');\r\n        })\r\n        setTimeout(lazyLoad.loadImages, 50);\r\n    }\r\n\r\n    return {\r\n        resetFilter: resetFilter,\r\n        applyFilter: applyFilter\r\n    }\r\n})();\r\n\r\nvar viewImg = (function () {\r\n\r\n    //cache DOM\r\n    var $imgContainer = $('#image-container');\r\n    var $modal = $('#modal');\r\n    var $body = $('body');\r\n    var $modalNav = $('#modal-nav');\r\n    var $imgActive = $('.image-wrapper-active');\r\n\r\n    //bind events\r\n    $imgContainer.on('click', '.image-wrapper', function (e) {\r\n        reset();\r\n        viewActive($(this));\r\n    });\r\n    \r\n    $modal.on('click', function (e) {\r\n        //clicks on modal itself or 'X' close modal and minimize enlarged image\r\n        if (e.target == e.currentTarget || e.target.className == 'close') {\r\n            reset();\r\n            $('.filter-indicator').css('visibility', 'visible');//all toggling of filter indicator visibility is to get it out of the way when enlarging an image\r\n            $modal.hide();\r\n        } else if (e.target.className == 'next') {\r\n            next();\r\n        } else if (e.target.className == 'prev') {\r\n            prev();\r\n        }\r\n    });\r\n\r\n    function next() {\r\n        var $nextPic = $('.image-wrapper-active').next();//store the next image that needs to be displayed\r\n        //disallow navigating to currently filtered out images or past the beginning/end of gallery\r\n        if ($nextPic.css('display') === 'none' || typeof $nextPic.css('display') === 'undefined') {\r\n            return;\r\n        }\r\n        \r\n        $('.filter-indicator').css('visibility', 'visible');\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        var dayNum = $nextPic.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];//get the number of .day<number> class of next image element to use with nav.btnLabels arr\r\n        var clickedClass = $nextPic.find('.filter-indicator').attr('class').split(' ')[1];//get the .day<number> class of next image element\r\n\r\n        reset();\r\n        $body.addClass('no-scroll');//disable scrolling when modal active\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n        $nextPic.addClass('image-wrapper-active');\r\n        $nextPic.find('.view').addClass('view-active');\r\n        $nextPic.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        lazyLoad.loadImages();\r\n    }\r\n\r\n    function prev() {\r\n        var $prevPic = $('.image-wrapper-active').prev();\r\n\r\n        if ($prevPic.css('display') === 'none' || typeof $prevPic.css('display') === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        $('.filter-indicator').css('visibility', 'visible');\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        var dayNum = $prevPic.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];\r\n        var clickedClass = $prevPic.find('.filter-indicator').attr('class').split(' ')[1];\r\n\r\n        reset();\r\n        $body.addClass('no-scroll');\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n        $prevPic.addClass('image-wrapper-active');\r\n        $prevPic.find('.view').addClass('view-active');\r\n        $prevPic.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        lazyLoad.loadImages();\r\n    }\r\n    \r\n    function reset() {\r\n        $('.image-wrapper').removeClass('image-wrapper-active');\r\n        $('.view').removeClass('view-active');\r\n        $body.removeClass('no-scroll');\r\n    }\r\n    \r\n    function viewActive($this) {\r\n        var dayNum = $this.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];//get the number of .day<number> class of image element to use with nav.btnLabels\r\n        var clickedClass = $this.find('.filter-indicator').attr('class').split(' ')[1];//get the .day<number> class of image element\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        $body.addClass('no-scroll');\r\n        $modal.show();\r\n        $this.addClass('image-wrapper-active');\r\n        $this.find('.view').addClass('view-active');\r\n        $this.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n    }\r\n})();"]}