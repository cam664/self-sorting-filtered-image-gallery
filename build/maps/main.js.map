{"version":3,"sources":["main.js"],"names":["Img","date","src","this","day","collect","prototype","instances","indexOf","push","render","$","append","initPage","setImgsDayThenRender","forEach","el","datesCollection","i","dir","ajax","url","success","data","find","attr","val","match","complete","lazyLoad","loadImages","nav","renderBtns","isElementInViewport","rect","getBoundingClientRect","top","left","bottom","window","height","right","width","setScrollInterval","fn","setInterval","scrollHandler","didScroll","$images","each","index","$window","on","events","emit","btnWidth","length","alert","$filterNav","btnLabels","$resetNav","$nav","css","stickyNav","scrollTop","$distance","removeClass","addClass","$filterMain","navAnimations","$this","clickedClass","split","hasClass","resetFilterColor","filterImgs","resetFilter","applyFilterColor","applyFilter","join","offset","$ul","show","hide","setTimeout","viewImg","next","$nextPic","$modalNav","dayNum","reset","$body","html","prev","$prevPic","viewActive","$modal","$imgContainer","e","target","currentTarget","className"],"mappings":"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","file":"../js/main.js","sourcesContent":["//Constructor for images in img/gallery folder\r\nvar Img = function (date, src) {\r\n    this.date = date;\r\n    this.src = src;\r\n    this.day;\r\n\r\n    this.collect();\r\n}\r\n//on construction push instance into array\r\nImg.prototype.collect = function () {\r\n    if (Img.instances.indexOf(this) === -1) {\r\n        Img.instances.push(this);\r\n    }\r\n};\r\n//render method creates css classes .image-wrapper, .view and .filter-indicator with class .day to set corresponding day color\r\nImg.prototype.render = function () {\r\n\r\n    $('#image-container').append('<div class=\"image-wrapper\"><div class=\"view\"><img src=\"img/img-loading.gif\" data-src=' + '/gallery/' + this.src + '></div><div class=\"filter-indicator day' + this.day + '\"></div></div>');\r\n};\r\n\r\nImg.instances = [];\r\n\r\n\r\nvar initPage = (function () {\r\n    var dir = \"/gallery/\";\r\n    var datesCollection = [];\r\n    //local ajax call\r\n    $.ajax({\r\n        url: dir,\r\n        success: function (data) {\r\n\r\n            $(data).find(\"a\").attr(\"href\", function (i, val) {\r\n\r\n                if (val.match(/\\.(jpe?g|png|gif)$/)) {\r\n                    var date = val.match(/\\d+(?=_)/g);//match all digits before \"_\" This is the date when dealing with android picture naming convention \r\n\r\n                    if (datesCollection.indexOf(date[0]) === -1) {\r\n                        datesCollection.push(date[0]);//collect all unique dates\r\n                    }\r\n                    \r\n                    var image = new Img(date[0], val);//instantiate with date and src (val)\r\n                }\r\n            });\r\n        },\r\n\r\n        complete: function () {\r\n            \r\n            setImgsDayThenRender();\r\n            lazyLoad.loadImages();//load all images currently in viewport\r\n            nav.renderBtns(datesCollection);//populate navigation\r\n        }\r\n    });\r\n\r\n    //check the date prop of Img.instances agaisnt the set of dates in numOfDays. Match index + 1 becomes correct day picture was taken\r\n    function setImgsDayThenRender() {\r\n        Img.instances.forEach(function (el) {\r\n\r\n            el.day = datesCollection.indexOf(el.date) + 1;\r\n\r\n            el.render();//render after date set\r\n        });\r\n        for (var i = 0; i < 4; i++) {//adding non visible elements to prevent flexbox rendering the last row of images with spaces between them  \r\n            $('#image-container').append('<div class=\"image-placeholder\"></div>');\r\n        }\r\n    }\r\n})();\r\n\r\nvar lazyLoad = (function () {\r\n\r\n    var didScroll = false;\r\n\r\n    //cache DOM\r\n    var $window = $(window);\r\n\r\n    //bind events\r\n    $window.on('resize scroll', function () {\r\n        didScroll = true;\r\n        events.emit('scrolled');//avoiding multiple scroll event listeners on window\r\n    });\r\n\r\n    setScrollInterval(scrollHandler);//used for throttling window scroll events. \r\n    \r\n    //check if image element is in viewport\r\n    function isElementInViewport(el) {\r\n        var rect = el.getBoundingClientRect();\r\n\r\n        return (\r\n            rect.top >= -300 &&\r\n            rect.left >= -300 &&\r\n            rect.bottom / 1.4 <= $(window).height() &&\r\n            rect.right <= $(window).width() + 300\r\n        );\r\n    }\r\n    \r\n    function setScrollInterval(fn) {\r\n        setInterval(fn, 500);\r\n    }\r\n    //check every 500ms if a scroll event has fired. If true loadImages()\r\n    function scrollHandler() {\r\n        if (didScroll) {\r\n            didScroll = false;\r\n            loadImages();\r\n        }\r\n    }\r\n    //if image in viewport 'load' it by switching data-src and real src\r\n    function loadImages() {\r\n        var $images = $('#image-container img');\r\n\r\n        $images.each(function (index) {\r\n\r\n            if (isElementInViewport(this)) {\r\n                $(this).attr(\"src\", $(this).attr(\"data-src\"));\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        loadImages: loadImages\r\n    }\r\n})();\r\n\r\nvar nav = (function () {\r\n\r\n    //cache DOM\r\n    var $window = $(window);\r\n    var $distance = $('#filter-nav').offset().top;//distance scrolled from top of document\r\n    var $nav = $('nav');\r\n    var $filterMain = $('.filter-indicator-main');\r\n    var $ul = $nav.find('ul');\r\n    var $filterNav = $('#filter-nav');\r\n    var $resetNav = $('#reset-nav');\r\n    \r\n    var btnLabels = ['Day One', 'Day Two', 'Day Three', 'Day Four', 'Day Five', 'Day Six', 'Day Seven'];//used for nav btn labels\r\n\r\n    //bind events\r\n    events.on('scrolled', stickyNav);//window scroll event bound in lazyload\r\n\r\n    $ul.on('click', 'li', function () {\r\n        navAnimations($(this));\r\n    });\r\n\r\n    function renderBtns(datesCollection) {\r\n        var btnWidth = '' + (100 / (datesCollection.length / 0.94)) + '%';//width of btns is percent based on number of btns needed\r\n        \r\n        //inform user the dates of their picures span too many days\r\n        if (datesCollection.length > 7) {\r\n            alert('Date range of images present in img/gallery folder must not span more than 7 days');\r\n        } else {\r\n            //render btns on page\r\n            for (var i = 0; i < datesCollection.length; i++) {\r\n                $filterNav.find('ul').append('<li class=\"day' + (i + 1) + '\">' + btnLabels[i] + '</li>');\r\n                $resetNav.find('ul').append('<li class=\"day' + (i + 1) + '\">Reset</li>');\r\n            }\r\n        }\r\n        //set btn width\r\n        $nav.find('li').css('width', btnWidth);\r\n    }\r\n    \r\n    function stickyNav() {\r\n        if ($window.scrollTop() >= $distance) {\r\n            $nav.removeClass('layout-fluid-full-width').addClass('nav-fixed');\r\n            $filterMain.removeClass('layout-fluid-full-width').addClass('filter-indicator-main-fixed');\r\n        } else if ($window.scrollTop() <= $distance) {\r\n            $nav.removeClass('nav-fixed').addClass('layout-fluid-full-width');\r\n            $filterMain.removeClass('filter-indicator-main-fixed').addClass('layout-fluid-full-width');\r\n        }\r\n    }\r\n\r\n    function navAnimations($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];//gets the first class of element li (.day<number> in this case). Used in the module to set day filter color. \r\n\r\n        $resetNav.find('li').removeClass('active');\r\n        $filterNav.find('li').removeClass('slide-up');\r\n\r\n        if ($this.hasClass('slide-down')) {\r\n            $this.removeClass('slide-down').addClass('slide-up');\r\n            resetFilterColor();\r\n            filterImgs.resetFilter();//method for restoring all previously filtered out images into view again\r\n        } else {\r\n            $filterNav.find('.slide-down').removeClass('slide-down').addClass('slide-up');\r\n            $this.addClass('slide-down');\r\n            $resetNav.find('.' + clickedClass).addClass('active');\r\n            resetFilterColor();\r\n            applyFilterColor($this);\r\n            filterImgs.applyFilter($this);//method for filtering out images from view. Pass $this for info on what .day<number> to filter by\r\n        }\r\n\r\n    }\r\n    //remove all .day<number> classes from main filter bar\r\n    function resetFilterColor() {\r\n        $filterMain.removeClass(function (index, css) {\r\n            return (css.match(/(day)\\d+/) || []).join(' ');\r\n        });\r\n    }\r\n    //apply .day<number> classes to main filter bar\r\n    function applyFilterColor($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];\r\n\r\n        $filterMain.addClass(clickedClass);\r\n    }\r\n\r\n    return {\r\n        btnLabels: btnLabels,\r\n        renderBtns: renderBtns\r\n    }\r\n})();\r\n\r\nvar filterImgs = (function () {\r\n\r\n    //cache DOM \r\n    var $filterMain = $('.filter-indicator-main');\r\n\r\n    function applyFilter($this) {\r\n        var clickedClass = $this.attr('class').split(' ')[0];//gets the first class of element li (.day<number> in this case).\r\n        //use .day<number> class of nav li to filter out images from view\r\n        $('.image-wrapper').each(function (index) {\r\n            if (!$(this).find('.filter-indicator').hasClass(clickedClass)) {\r\n                $(this).hide();\r\n            } else if ($(this).find('.filter-indicator').hasClass(clickedClass)) {\r\n                $(this).show();\r\n            }\r\n            $(this).find('img').attr(\"src\", 'img/img-loading.gif');//set images back to loading gif to prevent browser having to render lots of images a once and lagging out\r\n        })\r\n        setTimeout(lazyLoad.loadImages, 50);//load images in viewport \r\n    }\r\n    //bring all previously filtered images back into view\r\n    function resetFilter() {\r\n        $('.image-wrapper').each(function (index) {\r\n            $(this).show();\r\n            $(this).find('img').attr(\"src\", 'img/img-loading.gif');\r\n        })\r\n        setTimeout(lazyLoad.loadImages, 50);\r\n    }\r\n\r\n    return {\r\n        resetFilter: resetFilter,\r\n        applyFilter: applyFilter\r\n    }\r\n})();\r\n\r\nvar viewImg = (function () {\r\n\r\n    //cache DOM\r\n    var $imgContainer = $('#image-container');\r\n    var $modal = $('#modal');\r\n    var $body = $('body');\r\n    var $modalNav = $('#modal-nav');\r\n    var $imgActive = $('.image-wrapper-active');\r\n\r\n    //bind events\r\n    $imgContainer.on('click', '.image-wrapper', function (e) {\r\n        reset();\r\n        viewActive($(this));\r\n    });\r\n    \r\n    $modal.on('click', function (e) {\r\n        //clicks on modal itself or 'X' close modal and minimize enlarged image\r\n        if (e.target == e.currentTarget || e.target.className == 'close') {\r\n            reset();\r\n            $('.filter-indicator').css('visibility', 'visible');//all toggling of filter indicator visibility is to get it out of the way when enlarging an image\r\n            $modal.hide();\r\n        } else if (e.target.className == 'next') {\r\n            next();\r\n        } else if (e.target.className == 'prev') {\r\n            prev();\r\n        }\r\n    });\r\n\r\n    function next() {\r\n        var $nextPic = $('.image-wrapper-active').next();//store the next image that needs to be displayed\r\n        //disallow navigating to currently filtered out images or past the beginning/end of gallery\r\n        if ($nextPic.css('display') === 'none' || typeof $nextPic.css('display') === 'undefined') {\r\n            return;\r\n        }\r\n        \r\n        $('.filter-indicator').css('visibility', 'visible');\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        var dayNum = $nextPic.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];//get the number of .day<number> class of next image element to use with nav.btnLabels arr\r\n        var clickedClass = $nextPic.find('.filter-indicator').attr('class').split(' ')[1];//get the .day<number> class of next image element\r\n\r\n        reset();\r\n        $body.addClass('no-scroll');//disable scrolling when modal active\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n        $nextPic.addClass('image-wrapper-active');\r\n        $nextPic.find('.view').addClass('view-active');\r\n        $nextPic.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        lazyLoad.loadImages();//load that are being navigated through\r\n    }\r\n\r\n    function prev() {\r\n        var $prevPic = $('.image-wrapper-active').prev();\r\n\r\n        if ($prevPic.css('display') === 'none' || typeof $prevPic.css('display') === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        $('.filter-indicator').css('visibility', 'visible');\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        var dayNum = $prevPic.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];\r\n        var clickedClass = $prevPic.find('.filter-indicator').attr('class').split(' ')[1];\r\n\r\n        reset();\r\n        $body.addClass('no-scroll');\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n        $prevPic.addClass('image-wrapper-active');\r\n        $prevPic.find('.view').addClass('view-active');\r\n        $prevPic.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        lazyLoad.loadImages();\r\n    }\r\n    \r\n    function reset() {\r\n        $('.image-wrapper').removeClass('image-wrapper-active');\r\n        $('.view').removeClass('view-active');\r\n        $body.removeClass('no-scroll');\r\n    }\r\n    \r\n    function viewActive($this) {\r\n        var dayNum = $this.find('.filter-indicator').attr('class').split(' ')[1].match(/\\d/)[0];//get the number of .day<number> class of image element to use with nav.btnLabels\r\n        var clickedClass = $this.find('.filter-indicator').attr('class').split(' ')[1];//get the .day<number> class of image element\r\n\r\n        $modalNav.find('#day').removeClass();\r\n\r\n        $body.addClass('no-scroll');\r\n        $modal.show();\r\n        $this.addClass('image-wrapper-active');\r\n        $this.find('.view').addClass('view-active');\r\n        $this.find('.filter-indicator').css('visibility', 'hidden');\r\n\r\n        $modalNav.find('#day').html(nav.btnLabels[dayNum - 1]);\r\n        $modalNav.find('#day').addClass(clickedClass);\r\n    }\r\n})();"]}